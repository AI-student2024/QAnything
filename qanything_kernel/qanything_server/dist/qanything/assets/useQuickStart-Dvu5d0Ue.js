import{u as E}from"./useUploadFiles-jSPKXnFV.js";import{r as _,u as Q}from"./utils-CU9sZ_ee.js";import{z as A,x as K,r,w as v}from"./index-BuLhKox1.js";const{currentId:R,knowledgeBaseList:f}=A(E()),j=K("useQuickStart",()=>{const i=r([]),I=t=>{i.value=t},L=r(!1);let h=r(i.value.length);v(()=>i.value.length,()=>{h.value=i.value.length});const o=r([]),c=t=>{o.value=t},g=t=>{var a;const s=(((a=o.value.at(-1))==null?void 0:a.historyId)||0)+1,e={historyId:s,title:t,fileToBeSendList:[]},u=[...o.value,e];return c(u),s},k=t=>{const s=o.value.filter(e=>e.historyId!==t);c(s)},p=(t,s,e)=>{const u=o.value.map(a=>(a.historyId===s&&(a.title=t,a.kbId=e),a));c(u)},y=t=>o.value.find(s=>s.historyId===t),w=(t,s)=>{o.value.forEach(async e=>{e.historyId===t&&(await _(await Q.kbConfig({kb_id:n.value,new_kb_name:s})),e.title=s)})},H=(t,s)=>{const e=y(t);Array.isArray(s)?e.fileToBeSendList.push(...s):e.fileToBeSendList.push(s)},l=r([]),b=(t,s)=>{const e={historyId:t,list:s};l.value.some(a=>a.historyId===t)?l.value.forEach(a=>{a.historyId===t&&(a.list=s)}):l.value.push(e)},C=t=>l.value.find(s=>s.historyId===t),B=t=>{l.value=l.value.filter(s=>s.historyId!==t),o.value=o.value.filter(s=>s.historyId!==t),d.value=null,n.value="",i.value=[]},d=r(null),S=t=>{d.value=t},n=r(""),m=t=>{n.value=t};v(()=>n.value,()=>{R.value=n.value});const x=r("");v(()=>f.value,()=>{o.value=o.value.filter(t=>f.value.some(s=>s.kb_id===t.kbId))});const T=r(null);return{QA_List:i,setQaList:I,showLoading:L,contextLength:h,historyList:o,addHistoryList:g,deleteHistoryList:k,updateHistoryList:p,getHistoryById:y,renameHistory:w,addFileToBeSendList:H,chatList:l,addChatList:b,getChatById:C,clearChatList:B,chatId:d,setChatId:S,kbId:n,kbIdCopy:x,setKbId:m,deleteChatId:T}},{persist:{storage:localStorage}});export{j as u};
