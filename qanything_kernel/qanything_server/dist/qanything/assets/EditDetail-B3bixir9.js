import{_ as we}from"./bot-avatar-CBCRm2Zm.js";import{_ as ze}from"./knowledge-zhu8jsrY.js";import{u as de}from"./useBots-VFzV5UvD.js";import{r as J,u as $,a as Ye,b as Xe}from"./utils-nP-Zc0kd.js";import{g as pe,u as Ze}from"./index-DaUCtD7D.js";import{u as be,C as Oe}from"./ChatSettingForm-D94a4h6i.js";import{u as he}from"./useBotsChat-C2h5X27o.js";import{d as _e,z as Q,r as w,a as ye,o as We,A as u,B as d,C as t,c as l,G as o,Q as ee,J as i,E as z,H as V,F as Y,D as te,K,R as b,L as Ce,M as Se,N as ge,T as L,U as I,Y as W,a4 as Ne,a2 as re,W as S,a3 as Pe,S as ue}from"./index-CAMuaXOT.js";import{I as Be,b as je,u as Ge,a as Je}from"./useChatSource-CzsaGSXQ.js";import{B as Te}from"./RightOutlined-jT-7VqFH.js";import{u as $e,a as et,b as tt,D as ot,h as st,_ as xe,T as at,f as nt}from"./html2canvas.esm-AaBSZNr3.js";import{_ as lt}from"./lock-DmQwPPsI.js";import{I as ct}from"./index-DnagCYn8.js";import"./slide-DnkQZ5r_.js";import"./index-SvyAHac9.js";import"./collapseMotion-BN7vqiWW.js";const it="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAQBSURBVFiF1Zk/aBtnFMB/73TWUJwUi0CoS4KHxEPw4n+0aQMpGWwPLaQYeywt0l0OFxwC7ZohawuhHoR9Z2jwaFEayFDbgyGQ4BaEp5DBWURCFZoauSTOoujuZdB3RpKNY8e25P4m6b67e7+7033fe0/C+yGO41wErgADItINdAInzPgroKiqa0AeWA6CYAXQfQfaz86u655V1QkR+Qb4aJ+xnqvqnIhkfd9/eqiCmUzmdCKRuKmqDtBmNj8BFkXkgao+LpfLz7q6ul4CFAqFk8lk8oyIXFDVS8AwcN4c90ZEgjAMb83Ozv5zYEHHcb4VkZ+AU0AFmAemfN//ay8XF+O67ifAJDAO2MC6qv4YBMGd9xIcGxtLplKp26o6YTYtqOr1IAjW9iPWiOM43SLyCzACICLZUql0I5fLlfcsODEx0V6pVH4DhoBN4Aff92cOItaI67rXgJ+BdmDJtu3RbDa7+U7BsbGxZEdHxz1gSFWLiURieHp6+tFhysV4ntcThuGiiHQCSxsbG1813kmr8aBUKnU7loui6PJRyQFMT08/iqLosqoWgSETu466O2heiF+BTcuyLh6lXC2e5/VEUbQCtKvqd7UvTiL+kMlkTluWdRf4AJicmZn5oxlyAPl8/kV/f38J+FJELvX29s6trq6+hppHnEgkblKdShYO+4XYCybmAnDKuLAlaFYIB6io6vVmy8WY2BVVdVzXPbslaOa6NmD+oPPcQTCx54G2eP61ADFrK8BUq+RqmAIwTiKO43wmIg+BJ77vd7fWrYrrumvAeVX93KKaMgEsttCpkdjligUMAIjIg9b51FPjMmCZZBNVfdxCpzpiFxHptqhmwpTL5WcttaqhxqXTxqTpcbK5G67r/g5cPWD8u77vf73bDl1dXS+LxSLAiW3JwnHDplrgfFgoFE4C/+2287uu/LAwJQPAKwsoAiSTyTPNCL4XalyKlikNEZELLXSqI3ZR1TWLat2Kqb6OBTUueQtYNl+GW+SzE7HLsgDiuu7fVAvxT/dbTh42pjz9E3ju+/7HFqCqOmfGJ1untsUkgHFSC6q1KfAGGHccp2UZjYk9TrX7kAWTsPq+/1REAsA2RXVLMLFtEQni/s3WShKG4S1gHRgxRXVTMTFHgHXjAtRUdaurq6/7+vr+FZGrwBeDg4P38vn8i2bIeZ7Xo6rzQFJVv5+dnX0Yj9WtxUEQ3DHPvj0Mw8V0On3uqOXS6fS5MAwXgXYRyTY2k7YlC6VS6QawJCKdlmXd9zyv56jkPM/rsSzrftz6MLHr2CaYy+XKtm2PxpJRFK0cxW/Sdd1rURStxHK2bY/u1OH6f7bfGk54PBuYtRzrFnAtx7aJvtNxzfob4i2ESvnrjyWOcQAAAABJRU5ErkJggg==",rt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAOBSURBVFiFzZixdeJAEIb/WZAiAjqADiiBwAUQOHOg97BlhQQUQEABBIRCZ7+ngMwBBThQARfQgegAv4cTOHYuuFksQBJIYM5/AojVzqcZ7ezsEDNX8IOl/jfAKVUvuTkMw/p6vW4TUUNrXWfmBgAQ0UIptWTmhW3bkeM4y7I2qGiIwzCsbzYbZ7vddoioxcz1k0aIZkQ0c103/FZA3/d7RDQwUES0ZOY5gDkRLYkoBgBmbsqYFoB2YopYKTUsAnoW4Ovra2uz2bwBaMqlSCk1Pid85jXQWvcSsHGtVrt7eHhYXAwYBIHDzCPxSCQeiE5NnDWX1noAoCkef3Jdd1YacDKZDJh5ID/Hnuf1y4Adyvf9EYAeABDR8Pn5eVgYMAiCjtb6TX72Pc8bXwPOKPnwSqnHrPcyFXA6nTY+Pz9/M3P91BNeIt/3ewBGRLSsVqt33W53fjgmNVGvVqt3eefG3wUHABKVMTPXZREe6QgwCAIH/1ZrfK13Lk9iIwLQFI/mA8oqg1KqsOeCIHDSjJySsUVEgzAM9xL/HmDCe1GZrK+1fgEwKnqfpK1IQu1kAjJzBwCUUlddsefI2Nxut5296+ZLGIZ1A2jbdqlEfIls244kebeSYd4Brtdrsw1dVH2UleM4S2aeM3M9wfIFSEQN+XqUi26o+QHLF6DWeleh3J7rn4xtwwIkCtZEsRnnTSIb/kveGN/3/2T8lbtlElHMzDsWoETJn3y6olJKFY7OzoNEtBD6Zt4NZntK+894zvO8UkcJY5uIdnVicpHEMqi0hy6VsZ30dDLEH/LZuiXUgVoAwMzHHsxKlLeS2GwbliPArER5KxmbRDRLbhR7q7hSqcwAQA44N5WxSUR7Z5Q9QMuyQkmW7SAIynixr5R6LHqTVFFtAPFhFbUHKGEeAl91YRF5njcuWaZl1qBHiVryXAygLaevb5XYaCLFe6mAAGBZ1r2EulemQj5Xk8lkAKBHRMtarXaXNiYVsNvtzonInEdGMtFV5ft+zxw7iegpq8uQuRe7rhsS0RAAmHlwzXDLXCOBG+Z1F85pfXSY+ZdsQ4WbPwdztWVBtGVT6J+a66zm0XQ6baxWq3dcsXlkWdZ92kG9FKBRsvmTuBwhp/2W7CFKu25YpI1SuIFpQJm5Yw5ZuQakh1ipVGaWZYVFzzulAI3yWsDizY+bt4BvrR/f5f8LxA8rSSHVBD4AAAAASUVORK5CYII=",oe=h=>(Ce("data-v-e435d805"),h=h(),Se(),h),ut={class:"bot-detail-edit-comp"},dt={class:"name-avatar"},pt=oe(()=>t("img",{src:we,alt:"avatar"},null,-1)),ht={class:"title"},_t={class:"title"},gt={class:"title"},vt=oe(()=>t("span",null,"*",-1)),mt=oe(()=>t("img",{class:"knowledge-icon",src:ze,alt:"knowledge"},null,-1)),ft={class:"kb-name"},At=["onClick"],kt=oe(()=>t("img",{class:"add-knowedge",src:rt,alt:"icon"},null,-1)),wt={class:"save"},bt={class:"title"},yt={class:"chat-setting-form-footer"},Ct=_e({__name:"BotDetailEdit",setup(h){const{curBot:f,knowledgeList:k}=Q(de()),{QA_List:X}=Q(he()),{setSelectKnowledgeVisible:q,setCurBot:_}=de(),{setChatSettingConfigured:A}=be(),{bots:y,common:Z}=pe(),R=w(""),F=w(""),U=w(""),M=ye(()=>F.value.match(/[^a-zA-Z\s]|\p{P}|\w+/g));We(()=>{console.log("curBot",f.value),R.value=f.value.bot_name,U.value=f.value.welcome_message,F.value=f.value.prompt_setting});const B=async g=>{try{const p=await J(await $.queryBotInfo({bot_id:g}));console.log("getBotInfo",p),_(p[0])}catch(p){b.error(p.msg||"获取Bot信息失败")}},se=async()=>{try{await J(await $.updateBot({bot_id:f.value.bot_id,bot_name:R.value,prompt_setting:F.value,welcome_message:U.value})),B(f.value.bot_id),b.success(y.saveSuccessful)}catch(g){console.log("error--",g),b.error(g.msg||"保存失败，请重试")}},T=async g=>{let p=f.value.kb_ids;console.log("removeKb",g,p),p=p.filter(v=>v!=g);try{await J(await $.updateBot({bot_id:f.value.bot_id,kb_ids:p})),B(f.value.bot_id),k.value=k.value.map(v=>(v.kb_id===g&&(v.state=v.state===0?1:0),v)),b.success(y.removalSucessful)}catch(v){b.error(v.msg||"请求失败")}},x=w(""),D=async()=>{const g=await x.value.onCheck();Object.hasOwn(g,"errorFields")||(A(g),b.success("应用成功"))};return(g,p)=>{const v=Be,P=je,j=Te;return u(),d("div",ut,[t("div",dt,[pt,l(v,{value:o(R),"onUpdate:value":p[0]||(p[0]=C=>ee(R)?R.value=C:null),placeholder:o(y).inputBotName,"show-count":"",maxlength:20},null,8,["value","placeholder"])]),t("div",ht,i(o(y).roleSetting),1),l(P,{value:o(F),"onUpdate:value":p[1]||(p[1]=C=>ee(F)?F.value=C:null),class:"role-setting-input","auto-size":{minRows:7,maxRows:7},rows:7},null,8,["value"]),t("div",{class:z(["role-setting-length",o(M)&&o(M).length>2e3?"over-length":""])},i(o(M)?o(M).length:0)+" / 2000 ",3),t("div",_t,i(o(y).welcomeMessage),1),l(P,{value:o(U),"onUpdate:value":p[2]||(p[2]=C=>ee(U)?U.value=C:null),class:"greeting-input","show-count":"",maxlength:100,placeholder:o(y).inputWelcomMsg,"auto-size":{minRows:6,maxRows:6},rows:6},null,8,["value","placeholder"]),t("div",gt,[V(i(o(y).associatedKb),1),vt]),(u(!0),d(Y,null,te(o(f).kb_ids,(C,ae)=>(u(),d("div",{key:C,class:"knowedge-item knowledge-info"},[mt,t("div",ft,i(o(f).kb_names[ae]),1),t("img",{class:"remove-icon",src:it,alt:"remove",onClick:ne=>T(C)},null,8,At)]))),128)),t("div",{class:"knowedge-item add-knowledge-content",onClick:p[3]||(p[3]=C=>o(q)(!0))},[kt,V(" "+i(o(y).clickAssociatedKb),1)]),t("div",wt,[l(j,{class:"save-btn",type:"primary",onClick:se},{default:K(()=>[V(i(o(y).save),1)]),_:1})]),t("div",bt,i(o(Z).modelSettingTitle),1),l(Oe,{ref_key:"chatSettingFormRef",ref:x,"context-length":o(X).length},null,8,["context-length"]),t("div",yt,[l(j,{type:"primary",style:{width:"auto"},onClick:D},{default:K(()=>[V(i(o(Z).confirmApplication),1)]),_:1})])])}}}),St=ge(Ct,[["__scopeId","data-v-e435d805"]]),N=h=>(Ce("data-v-55eb8de0"),h=h(),Se(),h),Bt={class:"bots-chat-container"},Tt={class:"my-page"},xt={class:"header"},Ft=N(()=>t("img",{src:we,alt:"avatar"},null,-1)),Lt={id:"chat",class:"chat"},It={class:"ai"},Dt={class:"content"},qt=N(()=>t("img",{class:"avatar",src:xe,alt:"头像"},null,-1)),Rt=["innerHTML"],Ut={key:0,class:"user"},Et=N(()=>t("img",{class:"avatar",src:Je,alt:"头像"},null,-1)),Ht={class:"question-text"},Kt={key:1,class:"ai"},Qt={class:"content"},Vt=N(()=>t("img",{class:"avatar",src:xe,alt:"头像"},null,-1)),Mt=["innerHTML"],zt={key:0},Yt={key:1},Xt={class:"source-list"},Zt={class:"control"},Ot={class:"tips"},Wt=["href"],Nt=["onClick"],Pt={class:"source-content"},jt=["innerHTML"],Gt={class:"score"},Jt={class:"tips"},$t={key:2,class:"feed-back"},eo=["onClick"],to={class:"reload-text"},oo={class:"tools"},so={class:"stop-placeholder"},ao={class:"question-box"},no={class:"question"},lo={class:"send-plane"},co={key:0,class:"mask"},io=N(()=>t("img",{src:lt,alt:"icon"},null,-1)),ro=_e({__name:"Chat",props:{chatType:{type:String,default:"edit"},botInfo:{type:Object,default:()=>{}}},setup(h){const f=h,k=pe().common,X=pe().bots,q=new at(e=>{e&&(_.value[_.value.length-1].answer+=e||"")}),{QA_List:_}=Q(he()),{chatSettingFormActive:A}=Q(be()),{copy:y}=$e(),{setChatSourceVisible:Z,setSourceType:R,setSourceUrl:F,setTextContent:U}=Ge(),{language:M}=Q(Ze()),B=w(""),se=ye(()=>{const e=A.value.context,a=_.value.filter(n=>n.type==="ai");return(e===22?a:a.slice(-e)).map(n=>[n.question,n.answer])}),T=w(!1),x=w([]);let D;const g=w(null),p=w(null),v=()=>{re(()=>{var e;(e=g.value)==null||e.scrollIntoView(!1)})},P=et((e,a)=>{if(e.like=!e.like,e.unlike=!1,e.like){a.target.parentNode.style.animation="shake ease-in .5s";const m=setTimeout(()=>{clearTimeout(m),a.target.parentNode.style.animation=""},600)}},800),j=e=>{e.unlike=!e.unlike,e.like=!1},C=e=>{y(e.answer).then(()=>{e.copied=!e.copied,b.success(k.copySuccess,1);const a=setTimeout(()=>{clearTimeout(a),e.copied=!e.copied},1e3)}).catch(()=>{b.error(k.copyFailed,1)})},ae=e=>{_.value.push({question:e,type:"user"}),v()},ne=e=>{_.value.push({answer:"",question:e,onlySearch:A.value.capabilities.onlySearch,type:"ai",copied:!1,like:!1,unlike:!1,source:[],picList:null,showTools:!1})},Fe=()=>{D&&D.abort(),q.done(),T.value=!1,_.value[_.value.length-1].showTools=!0},le=()=>{var m;if(!B.value.length){b.warn("正在聊天中...请等待结束");return}const e=B.value;B.value="",ae(e),T.value=!0,(m=g.value)==null||m.scrollIntoView(!0),D=new AbortController;const a={"Content-Type":"application/json",Accept:["text/event-stream","application/json"],"Transfer-Encoding":"chunked",Connection:"keep-alive"};nt(Xe+"/local_doc_qa/local_doc_chat",{method:"POST",headers:a,openWhenHidden:!0,body:JSON.stringify({user_id:Ye,bot_id:f.botInfo.bot_id,history:se.value,question:e,streaming:A.value.capabilities.onlySearch===!1,networking:A.value.capabilities.onlineSearch,product_source:"saas",only_need_search_results:A.value.capabilities.onlySearch,hybrid_search:A.value.capabilities.mixedSearch,max_token:A.value.maxToken,api_base:A.value.apiBase,api_key:A.value.apiKey,model:A.value.apiModelName,api_context_length:A.value.apiContextLength,top_p:A.value.top_P,temperature:A.value.temperature}),signal:D.signal,onopen(n){console.log("open"),n.ok&&n.headers.get("content-type")==="text/event-stream"?(console.log("everything's good"),ne(e),q.start()):n.headers.get("content-type")==="application/json"&&ne(e)},onmessage(n){var s;console.log("message");const r=JSON.parse(n.data);console.log(r),(r==null?void 0:r.code)==200&&(r!=null&&r.response)&&r.msg==="success"&&(q.add(r==null?void 0:r.response.replaceAll(`
`,"<br/>")),v()),(s=r==null?void 0:r.source_documents)!=null&&s.length&&(_.value[_.value.length-1].source=r==null?void 0:r.source_documents)},onclose(n){console.log("close"),console.log(n),q.done(),D.abort(),T.value=!1,_.value[_.value.length-1].showTools=!0,re(()=>{v()})},onerror(n){throw console.log("error",n),q.done(),D.abort(),T.value=!1,_.value[_.value.length-1].showTools=!0,re(()=>{v()}),n}})},Le=e=>{console.log("reAnswer"),B.value=e.question,le()},Ie=(e,a)=>{e.source[a].showDetailDataSource=!1},De=(e,a)=>{e.source[a].showDetailDataSource=!e.source[a].showDetailDataSource},qe=e=>{x.value.push(e)},Re=e=>{x.value=x.value.filter(a=>a!==e)},{showModal:ve}=Q(tt()),{clearQAList:Ue}=he(),ce=w(!1),ie=w(""),G=w(""),Ee=()=>{G.value="download",ve.value=!0,ie.value=k.saveTip},He=async()=>{if(ce.value=!0,G.value==="download"){console.log("download");try{const e=document.getElementById("chat-ul"),m=(await st(e,{useCORS:!0})).toDataURL("image/png"),n=document.createElement("a");n.style.display="none",n.href=m,n.setAttribute("download","chat-shot.png"),typeof n.download>"u"&&n.setAttribute("target","_blank"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(m),b.success(X.downloadSuccessful),Promise.resolve()}catch(e){console.log(e),b.error(e.message||e.msg||"出错了")}}else G.value==="delete"&&(console.log("delete"),Ue());G.value="",ie.value="",ce.value=!1,ve.value=!1};let me=["pdf","docx","xlsx","txt","jpg","png","jpeg"];const fe=e=>{if(!e)return!1;const a=e.split(".");if(a.length){const m=a.pop();return!!me.includes(m)}else return!1},Ke=e=>{console.log("handleChatSource",e),fe(e.file_name)&&Qe(e)};async function Qe(e){try{F(null);const a=await J(await $.getFile({file_id:e.file_id}));console.log("queryFile",a);const m=e.file_name.split(".").pop(),n=Me(m);if(console.log("b64Type",n),R(m),F(`data:${n};base64,${a.base64_content}`),m==="txt"){const r=atob(a.base64_content),s=decodeURIComponent(escape(r));console.log("decodedTxt",s),U(s),Z(!0)}else Z(!0)}catch(a){b.error(a.msg||"获取文件失败")}}let Ve=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","image/jpeg","image/png","image/jpeg"];function Me(e){const a=me.indexOf(e);return Ve[a]}return v(),(e,a)=>{const m=ct,n=Te,r=Be;return u(),d(Y,null,[t("div",Bt,[t("div",Tt,[t("div",xt,[Ft,V(" "+i(h.botInfo.bot_name),1)]),t("div",Lt,[t("ul",{id:"chat-ul",ref_key:"scrollDom",ref:g},[t("div",It,[t("div",Dt,[qt,t("p",{class:"question-text",innerHTML:h.botInfo.welcome_message},null,8,Rt)])]),(u(!0),d(Y,null,te(o(_),(s,E)=>{var Ae,ke;return u(),d("li",{key:E},[s.type==="user"?(u(),d("div",Ut,[Et,t("p",Ht,i(s.question),1)])):(u(),d("div",Kt,[t("div",Qt,[Vt,t("p",{class:z(["question-text",[!s.source.length&&!((Ae=s==null?void 0:s.picList)!=null&&Ae.length)?"change-radius":"",s.showTools?"":"flashing"]]),innerHTML:s.answer},null,10,Mt)]),(ke=s==null?void 0:s.picList)!=null&&ke.length?(u(!0),d(Y,{key:0},te(s.picList,(c,H)=>(u(),d("div",{key:c+H,class:z(["data-picList",!s.source.length&&H+1===s.picList.length?"picList-radius":""])},[l(m,{width:150,src:c,class:"responsive-image"},null,8,["src"])],2))),128)):W("",!0),s.source.length?(u(),d(Y,{key:1},[t("div",{class:z(["source-total",o(x).includes(E)?"":"source-total-last"])},[o(M)==="zh"?(u(),d("span",zt,"找到了"+i(s.source.length)+"个信息来源：",1)):(u(),d("span",Yt,"Found "+i(s.source.length)+" source of information",1)),L(l(S,{name:"down",onClick:c=>qe(E)},null,8,["onClick"]),[[I,!o(x).includes(E)]]),L(l(S,{name:"up",onClick:c=>Re(E)},null,8,["onClick"]),[[I,o(x).includes(E)]])],2),L(t("div",Xt,[(u(!0),d(Y,null,te(s.source,(c,H)=>(u(),d("div",{key:H,class:"data-source"},[L(t("p",Zt,[t("span",Ot,i(o(k).dataSource)+i(H+1)+":",1),c.file_id.startsWith("http")?(u(),d("a",{key:0,href:c.file_id,target:"_blank"},i(c.file_name),9,Wt)):(u(),d("span",{key:1,class:z(["file",fe(c.file_name)?"filename-active":""]),onClick:O=>Ke(c)},i(c.file_name),11,Nt)),L(l(S,{name:"iconup",onClick:O=>Ie(s,H)},null,8,["onClick"]),[[I,c.showDetailDataSource]]),L(l(S,{name:"icondown",onClick:O=>De(s,H)},null,8,["onClick"]),[[I,!c.showDetailDataSource]])],512),[[I,c.file_name]]),l(Pe,{name:"sourceitem"},{default:K(()=>{var O;return[L(t("div",Pt,[t("p",{innerHTML:(O=c.content)==null?void 0:O.replaceAll(`
`,"<br/>")},null,8,jt),t("p",Gt,[t("span",Jt,i(o(k).correlation),1),V(i(c.score),1)])],512),[[I,c.showDetailDataSource]])]}),_:2},1024)]))),128))],512),[[I,o(x).includes(E)]])],64)):W("",!0),s.showTools?(u(),d("div",$t,[t("div",{class:"reload-box",onClick:c=>Le(s)},[l(S,{name:"reload"}),t("span",to,i(o(k).regenerate),1)],8,eo),t("div",oo,[l(S,{style:ue({color:s.copied?"#4D71FF":""}),name:"copy",onClick:c=>C(s)},null,8,["style","onClick"]),l(S,{style:ue({color:s.like?"#4D71FF":""}),name:"like",onClick:c=>o(P)(s,c)},null,8,["style","onClick"]),l(S,{style:ue({color:s.unlike?"#4D71FF":""}),name:"unlike",onClick:c=>j(s)},null,8,["style","onClick"])])])):W("",!0)]))])}),128)),L(t("div",so,null,512),[[I,o(T)]]),L(t("div",{ref_key:"stopBtn",ref:p,class:"stop-btn"},[l(n,{onClick:Fe},{icon:K(()=>[l(S,{name:"stop",class:z(o(T)?"loading":"")},null,8,["class"])]),default:K(()=>[V(i(o(k).stop),1)]),_:1})],512),[[I,o(T)]])],512)]),t("div",ao,[t("div",no,[h.chatType==="share"?(u(),d("span",{key:0,class:"download",onClick:Ee},[l(S,{name:"chat-download"})])):W("",!0),l(r,{value:o(B),"onUpdate:value":a[0]||(a[0]=s=>ee(B)?B.value=s:null),"max-length":"200",placeholder:o(k).problemPlaceholder,onKeyup:Ne(le,["enter"])},{suffix:K(()=>[t("div",lo,[l(n,{type:"primary",disabled:o(T),onClick:le},{default:K(()=>[l(S,{name:"sendplane"})]),_:1},8,["disabled"])])]),_:1},8,["value","placeholder"])])])]),!h.botInfo.kb_ids||!h.botInfo.kb_ids.length?(u(),d("div",co,[io,t("p",null,i(o(X).bindKbtoPreview),1)])):W("",!0)]),l(ot,{content:o(ie),"confirm-loading":o(ce),onOk:He},null,8,["content","confirm-loading"])],64)}}}),uo=ge(ro,[["__scopeId","data-v-55eb8de0"]]),po={class:"edit-detail"},ho={class:"bots-chat-page"},_o=_e({__name:"EditDetail",setup(h){const{curBot:f}=Q(de());return(k,X)=>(u(),d("div",po,[l(St),t("div",ho,[l(uo,{"bot-info":o(f),"chat-type":"edit"},null,8,["bot-info"])])]))}}),Io=ge(_o,[["__scopeId","data-v-27fa0036"]]);export{Io as default};
