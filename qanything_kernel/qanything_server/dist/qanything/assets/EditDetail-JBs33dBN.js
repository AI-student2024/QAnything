import{_ as ye}from"./bot-avatar-CBCRm2Zm.js";import{_ as Ze}from"./knowledge-zhu8jsrY.js";import{u as de}from"./useBots-Kmp9jJRn.js";import{r as J,u as ee,a as We,b as Ne}from"./utils-CVRX5_sX.js";import{g as pe,u as Pe}from"./index-6oUtbOQt.js";import{u as be,C as je}from"./ChatSettingForm-CuWAXbZc.js";import{u as he}from"./useBotsChat-CIh7t5Si.js";import{d as _e,z,r as A,a as Ce,o as Ge,A as r,B as d,C as t,c,G as o,Q as te,J as u,E as K,H as M,F as O,D as oe,K as x,R as k,L as Se,M as Be,N as ge,T as F,U as L,O as $e,Y as X,a4 as Je,a2 as re,W as y,a3 as et,S as ue}from"./index-DE5jAo-5.js";import{I as Te,b as tt,u as ot,_ as st,a as nt}from"./useChatSource-DhxrjnW0.js";import{B as Fe}from"./RightOutlined-Bly_GMgs.js";import{u as at,a as lt,b as ct,D as it,h as rt,_ as Le,T as ut,f as dt}from"./html2canvas.esm-BX1dRO4B.js";import{_ as pt}from"./lock-DmQwPPsI.js";import{I as ht}from"./index-Dd4yOHQM.js";import"./slide-DfxXrubr.js";import"./index-JEbwr9jB.js";import"./collapseMotion-Bv6Bgtew.js";const _t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAQBSURBVFiF1Zk/aBtnFMB/73TWUJwUi0CoS4KHxEPw4n+0aQMpGWwPLaQYeywt0l0OFxwC7ZohawuhHoR9Z2jwaFEayFDbgyGQ4BaEp5DBWURCFZoauSTOoujuZdB3RpKNY8e25P4m6b67e7+7033fe0/C+yGO41wErgADItINdAInzPgroKiqa0AeWA6CYAXQfQfaz86u655V1QkR+Qb4aJ+xnqvqnIhkfd9/eqiCmUzmdCKRuKmqDtBmNj8BFkXkgao+LpfLz7q6ul4CFAqFk8lk8oyIXFDVS8AwcN4c90ZEgjAMb83Ozv5zYEHHcb4VkZ+AU0AFmAemfN//ay8XF+O67ifAJDAO2MC6qv4YBMGd9xIcGxtLplKp26o6YTYtqOr1IAjW9iPWiOM43SLyCzACICLZUql0I5fLlfcsODEx0V6pVH4DhoBN4Aff92cOItaI67rXgJ+BdmDJtu3RbDa7+U7BsbGxZEdHxz1gSFWLiURieHp6+tFhysV4ntcThuGiiHQCSxsbG1813kmr8aBUKnU7loui6PJRyQFMT08/iqLosqoWgSETu466O2heiF+BTcuyLh6lXC2e5/VEUbQCtKvqd7UvTiL+kMlkTluWdRf4AJicmZn5oxlyAPl8/kV/f38J+FJELvX29s6trq6+hppHnEgkblKdShYO+4XYCybmAnDKuLAlaFYIB6io6vVmy8WY2BVVdVzXPbslaOa6NmD+oPPcQTCx54G2eP61ADFrK8BUq+RqmAIwTiKO43wmIg+BJ77vd7fWrYrrumvAeVX93KKaMgEsttCpkdjligUMAIjIg9b51FPjMmCZZBNVfdxCpzpiFxHptqhmwpTL5WcttaqhxqXTxqTpcbK5G67r/g5cPWD8u77vf73bDl1dXS+LxSLAiW3JwnHDplrgfFgoFE4C/+2287uu/LAwJQPAKwsoAiSTyTPNCL4XalyKlikNEZELLXSqI3ZR1TWLat2Kqb6OBTUueQtYNl+GW+SzE7HLsgDiuu7fVAvxT/dbTh42pjz9E3ju+/7HFqCqOmfGJ1untsUkgHFSC6q1KfAGGHccp2UZjYk9TrX7kAWTsPq+/1REAsA2RXVLMLFtEQni/s3WShKG4S1gHRgxRXVTMTFHgHXjAtRUdaurq6/7+vr+FZGrwBeDg4P38vn8i2bIeZ7Xo6rzQFJVv5+dnX0Yj9WtxUEQ3DHPvj0Mw8V0On3uqOXS6fS5MAwXgXYRyTY2k7YlC6VS6QawJCKdlmXd9zyv56jkPM/rsSzrftz6MLHr2CaYy+XKtm2PxpJRFK0cxW/Sdd1rURStxHK2bY/u1OH6f7bfGk54PBuYtRzrFnAtx7aJvtNxzfob4i2ESvnrjyWOcQAAAABJRU5ErkJggg==",gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAOBSURBVFiFzZixdeJAEIb/WZAiAjqADiiBwAUQOHOg97BlhQQUQEABBIRCZ7+ngMwBBThQARfQgegAv4cTOHYuuFksQBJIYM5/AojVzqcZ7ezsEDNX8IOl/jfAKVUvuTkMw/p6vW4TUUNrXWfmBgAQ0UIptWTmhW3bkeM4y7I2qGiIwzCsbzYbZ7vddoioxcz1k0aIZkQ0c103/FZA3/d7RDQwUES0ZOY5gDkRLYkoBgBmbsqYFoB2YopYKTUsAnoW4Ovra2uz2bwBaMqlSCk1Pid85jXQWvcSsHGtVrt7eHhYXAwYBIHDzCPxSCQeiE5NnDWX1noAoCkef3Jdd1YacDKZDJh5ID/Hnuf1y4Adyvf9EYAeABDR8Pn5eVgYMAiCjtb6TX72Pc8bXwPOKPnwSqnHrPcyFXA6nTY+Pz9/M3P91BNeIt/3ewBGRLSsVqt33W53fjgmNVGvVqt3eefG3wUHABKVMTPXZREe6QgwCAIH/1ZrfK13Lk9iIwLQFI/mA8oqg1KqsOeCIHDSjJySsUVEgzAM9xL/HmDCe1GZrK+1fgEwKnqfpK1IQu1kAjJzBwCUUlddsefI2Nxut5296+ZLGIZ1A2jbdqlEfIls244kebeSYd4Brtdrsw1dVH2UleM4S2aeM3M9wfIFSEQN+XqUi26o+QHLF6DWeleh3J7rn4xtwwIkCtZEsRnnTSIb/kveGN/3/2T8lbtlElHMzDsWoETJn3y6olJKFY7OzoNEtBD6Zt4NZntK+894zvO8UkcJY5uIdnVicpHEMqi0hy6VsZ30dDLEH/LZuiXUgVoAwMzHHsxKlLeS2GwbliPArER5KxmbRDRLbhR7q7hSqcwAQA44N5WxSUR7Z5Q9QMuyQkmW7SAIynixr5R6LHqTVFFtAPFhFbUHKGEeAl91YRF5njcuWaZl1qBHiVryXAygLaevb5XYaCLFe6mAAGBZ1r2EulemQj5Xk8lkAKBHRMtarXaXNiYVsNvtzonInEdGMtFV5ft+zxw7iegpq8uQuRe7rhsS0RAAmHlwzXDLXCOBG+Z1F85pfXSY+ZdsQ4WbPwdztWVBtGVT6J+a66zm0XQ6baxWq3dcsXlkWdZ92kG9FKBRsvmTuBwhp/2W7CFKu25YpI1SuIFpQJm5Yw5ZuQakh1ipVGaWZYVFzzulAI3yWsDizY+bt4BvrR/f5f8LxA8rSSHVBD4AAAAASUVORK5CYII=",se=_=>(Se("data-v-e435d805"),_=_(),Be(),_),vt={class:"bot-detail-edit-comp"},ft={class:"name-avatar"},mt=se(()=>t("img",{src:ye,alt:"avatar"},null,-1)),At={class:"title"},kt={class:"title"},wt={class:"title"},yt=se(()=>t("span",null,"*",-1)),bt=se(()=>t("img",{class:"knowledge-icon",src:Ze,alt:"knowledge"},null,-1)),Ct={class:"kb-name"},St=["onClick"],Bt=se(()=>t("img",{class:"add-knowedge",src:gt,alt:"icon"},null,-1)),Tt={class:"save"},Ft={class:"title"},Lt={class:"chat-setting-form-footer"},xt=_e({__name:"BotDetailEdit",setup(_){const{curBot:v,knowledgeList:w}=z(de()),{QA_List:R}=z(he()),{setSelectKnowledgeVisible:q,setCurBot:g}=de(),{setChatSettingConfigured:P}=be(),{bots:b,common:Z}=pe(),U=A(""),B=A(""),E=A(""),Y=Ce(()=>B.value.match(/[^a-zA-Z\s]|\p{P}|\w+/g));Ge(()=>{console.log("curBot",v.value),U.value=v.value.bot_name,E.value=v.value.welcome_message,B.value=v.value.prompt_setting});const I=async h=>{try{const i=await J(await ee.queryBotInfo({bot_id:h}));console.log("getBotInfo",i),g(i[0])}catch(i){k.error(i.msg||"获取Bot信息失败")}},ne=async()=>{try{await J(await ee.updateBot({bot_id:v.value.bot_id,bot_name:U.value,prompt_setting:B.value,welcome_message:E.value})),I(v.value.bot_id),k.success(b.saveSuccessful)}catch(h){console.log("error--",h),k.error(h.msg||"保存失败，请重试")}},T=async h=>{let i=v.value.kb_ids;console.log("removeKb",h,i),i=i.filter(m=>m!=h);try{await J(await ee.updateBot({bot_id:v.value.bot_id,kb_ids:i})),I(v.value.bot_id),w.value=w.value.map(m=>(m.kb_id===h&&(m.state=m.state===0?1:0),m)),k.success(b.removalSucessful)}catch(m){k.error(m.msg||"请求失败")}},j=A(""),C=async()=>{const h=await j.value.onCheck();Object.hasOwn(h,"errorFields")||(P(h),k.success("应用成功"))};return(h,i)=>{const m=Te,G=tt,D=Fe;return r(),d("div",vt,[t("div",ft,[mt,c(m,{value:o(U),"onUpdate:value":i[0]||(i[0]=S=>te(U)?U.value=S:null),placeholder:o(b).inputBotName,"show-count":"",maxlength:20},null,8,["value","placeholder"])]),t("div",At,u(o(b).roleSetting),1),c(G,{value:o(B),"onUpdate:value":i[1]||(i[1]=S=>te(B)?B.value=S:null),class:"role-setting-input","auto-size":{minRows:7,maxRows:7},rows:7},null,8,["value"]),t("div",{class:K(["role-setting-length",o(Y)&&o(Y).length>2e3?"over-length":""])},u(o(Y)?o(Y).length:0)+" / 2000 ",3),t("div",kt,u(o(b).welcomeMessage),1),c(G,{value:o(E),"onUpdate:value":i[2]||(i[2]=S=>te(E)?E.value=S:null),class:"greeting-input","show-count":"",maxlength:100,placeholder:o(b).inputWelcomMsg,"auto-size":{minRows:6,maxRows:6},rows:6},null,8,["value","placeholder"]),t("div",wt,[M(u(o(b).associatedKb),1),yt]),(r(!0),d(O,null,oe(o(v).kb_ids,(S,ae)=>(r(),d("div",{key:S,class:"knowedge-item knowledge-info"},[bt,t("div",Ct,u(o(v).kb_names[ae]),1),t("img",{class:"remove-icon",src:_t,alt:"remove",onClick:ve=>T(S)},null,8,St)]))),128)),t("div",{class:"knowedge-item add-knowledge-content",onClick:i[3]||(i[3]=S=>o(q)(!0))},[Bt,M(" "+u(o(b).clickAssociatedKb),1)]),t("div",Tt,[c(D,{class:"save-btn",type:"primary",onClick:ne},{default:x(()=>[M(u(o(b).save),1)]),_:1})]),t("div",Ft,u(o(Z).modelSettingTitle),1),c(je,{ref_key:"chatSettingFormRef",ref:j,"context-length":o(R).length},null,8,["context-length"]),t("div",Lt,[c(D,{type:"primary",style:{width:"auto"},onClick:C},{default:x(()=>[M(u(o(Z).confirmApplication),1)]),_:1})])])}}}),It=ge(xt,[["__scopeId","data-v-e435d805"]]),N=_=>(Se("data-v-84174e16"),_=_(),Be(),_),Dt={class:"bots-chat-container"},Rt={class:"my-page"},qt={class:"header"},Ut=N(()=>t("img",{src:ye,alt:"avatar"},null,-1)),Et={id:"chat",class:"chat"},Ht={class:"ai"},Qt={class:"content"},Vt=N(()=>t("img",{class:"avatar",src:Le,alt:"头像"},null,-1)),Kt=["innerHTML"],zt={key:0,class:"user"},Mt=N(()=>t("img",{class:"avatar",src:nt,alt:"头像"},null,-1)),Yt={class:"question-text"},Xt={key:1,class:"ai"},Ot={class:"content"},Zt=N(()=>t("img",{class:"avatar",src:Le,alt:"头像"},null,-1)),Wt=["innerHTML"],Nt={key:0},Pt={key:1},jt={class:"source-list"},Gt={class:"control"},$t={class:"tips"},Jt=["href"],eo=["onClick"],to={class:"source-content"},oo=["innerHTML"],so={class:"score"},no={class:"tips"},ao={key:2,class:"feed-back"},lo=["onClick"],co={class:"reload-text"},io={class:"tools"},ro={class:"stop-placeholder"},uo={class:"question-box"},po={class:"question"},ho={key:0},_o={key:1},go={class:"send-plane"},vo={key:0,class:"mask"},fo=N(()=>t("img",{src:pt,alt:"icon"},null,-1)),mo=_e({__name:"Chat",props:{chatType:{type:String,default:"edit"},botInfo:{type:Object,default:()=>{}}},setup(_){const v=_,w=pe().common,R=pe().bots,q=new ut(e=>{e&&(g.value[g.value.length-1].answer+=e||"")}),{QA_List:g}=z(he()),{chatSettingFormActive:P}=z(be()),{copy:b}=at(),{setChatSourceVisible:Z,setSourceType:U,setSourceUrl:B,setTextContent:E}=ot(),{language:Y}=z(Pe()),I=A(!0),ne=A(!1),T=A(""),j=Ce(()=>{const e=P.value.context;return g.value.slice(-e)}),C=A(!1),h=A([]);let i;const m=A(null),G=A(null),D=()=>{re(()=>{var e;(e=m.value)==null||e.scrollIntoView(!1)})},S=lt((e,n)=>{if(e.like=!e.like,e.unlike=!1,e.like){n.target.parentNode.style.animation="shake ease-in .5s";const f=setTimeout(()=>{clearTimeout(f),n.target.parentNode.style.animation=""},600)}},800),ae=e=>{e.unlike=!e.unlike,e.like=!1},ve=e=>{b(e.answer).then(()=>{e.copied=!e.copied,k.success(w.copySuccess,1);const n=setTimeout(()=>{clearTimeout(n),e.copied=!e.copied},1e3)}).catch(()=>{k.error(w.copyFailed,1)})},xe=e=>{g.value.push({question:e,type:"user"}),D()},Ie=e=>{g.value.push({answer:"",question:e,onlySearch:P.value.capabilities.onlySearch,type:"ai",copied:!1,like:!1,unlike:!1,source:[],picList:null,showTools:!1})},De=()=>{i&&i.abort(),q.done(),C.value=!1,g.value[g.value.length-1].showTools=!0},le=()=>{var f;if(!T.value.length){k.warn("正在聊天中...请等待结束");return}const e=T.value;T.value="",xe(e),C.value=!0,(f=m.value)==null||f.scrollIntoView(!0),i=new AbortController;const n={"Content-Type":"application/json",Accept:["text/event-stream","application/json"],"Transfer-Encoding":"chunked",Connection:"keep-alive"};dt(Ne+"/local_doc_qa/local_doc_chat",{method:"POST",headers:n,openWhenHidden:!0,body:JSON.stringify({user_id:We,bot_id:v.botInfo.bot_id,history:I.value?j.value:[],question:e,streaming:!0,networking:ne.value,product_source:"saas"}),signal:i.signal,onopen(l){if(console.log("open"),l.ok&&l.headers.get("content-type")==="text/event-stream")console.log("everything's good"),Ie(e),q.start();else if(l.headers.get("content-type")==="application/json")return C.value=!1,l.json().then(a=>{console.log(a),k.error((a==null?void 0:a.msg)||"出错了,请稍后刷新重试。")}).catch(a=>{console.log(a),k.error("出错了,请稍后刷新重试。")})},onmessage(l){var H;console.log("message");const a=JSON.parse(l.data);console.log(a),(a==null?void 0:a.code)==200&&(a!=null&&a.response)&&(q.add(a==null?void 0:a.response.replaceAll(`
`,"<br/>")),D()),(H=a==null?void 0:a.source_documents)!=null&&H.length&&(g.value[g.value.length-1].source=a==null?void 0:a.source_documents)},onclose(l){console.log("close"),console.log(l),q.done(),i.abort(),C.value=!1,g.value[g.value.length-1].showTools=!0,re(()=>{D()})},onerror(l){throw console.log("error",l),q.done(),i.abort(),C.value=!1,g.value[g.value.length-1].showTools=!0,re(()=>{D()}),l}})},Re=e=>{console.log("reAnswer"),T.value=e.question,le()},qe=(e,n)=>{e.source[n].showDetailDataSource=!1},Ue=(e,n)=>{e.source[n].showDetailDataSource=!e.source[n].showDetailDataSource},Ee=e=>{h.value.push(e)},He=e=>{h.value=h.value.filter(n=>n!==e)},{showModal:fe}=z(ct()),{clearQAList:Qe}=he(),ce=A(!1),ie=A(""),$=A(""),Ve=()=>{I.value=!I.value},Ke=()=>{$.value="download",fe.value=!0,ie.value=w.saveTip},ze=async()=>{if(ce.value=!0,$.value==="download"){console.log("download");try{const e=document.getElementById("chat-ul"),f=(await rt(e,{useCORS:!0})).toDataURL("image/png"),l=document.createElement("a");l.style.display="none",l.href=f,l.setAttribute("download","chat-shot.png"),typeof l.download>"u"&&l.setAttribute("target","_blank"),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(f),k.success(R.downloadSuccessful),Promise.resolve()}catch(e){console.log(e),k.error(e.message||e.msg||"出错了")}}else $.value==="delete"&&(console.log("delete"),Qe());$.value="",ie.value="",ce.value=!1,fe.value=!1};let me=["pdf","docx","xlsx","txt","jpg","png","jpeg"];const Ae=e=>{if(!e)return!1;const n=e.split(".");if(n.length){const f=n.pop();return!!me.includes(f)}else return!1},Me=e=>{console.log("handleChatSource",e),Ae(e.file_name)&&Ye(e)};async function Ye(e){try{B(null);const n=await J(await ee.getFile({file_id:e.file_id}));console.log("queryFile",n);const f=e.file_name.split(".").pop(),l=Oe(f);if(console.log("b64Type",l),U(f),B(`data:${l};base64,${n.base64_content}`),f==="txt"){const a=atob(n.base64_content),H=decodeURIComponent(escape(a));console.log("decodedTxt",H),E(H),Z(!0)}else Z(!0)}catch(n){k.error(n.msg||"获取文件失败")}}let Xe=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","image/jpeg","image/png","image/jpeg"];function Oe(e){const n=me.indexOf(e);return Xe[n]}return D(),(e,n)=>{const f=ht,l=Fe,a=st,H=Te;return r(),d(O,null,[t("div",Dt,[t("div",Rt,[t("div",qt,[Ut,M(" "+u(_.botInfo.bot_name),1)]),t("div",Et,[t("ul",{id:"chat-ul",ref_key:"scrollDom",ref:m},[t("div",Ht,[t("div",Qt,[Vt,t("p",{class:"question-text",innerHTML:_.botInfo.welcome_message},null,8,Kt)])]),(r(!0),d(O,null,oe(o(g),(s,Q)=>{var ke,we;return r(),d("li",{key:Q},[s.type==="user"?(r(),d("div",zt,[Mt,t("p",Yt,u(s.question),1)])):(r(),d("div",Xt,[t("div",Ot,[Zt,t("p",{class:K(["question-text",[!s.source.length&&!((ke=s==null?void 0:s.picList)!=null&&ke.length)?"change-radius":"",s.showTools?"":"flashing"]]),innerHTML:s.answer},null,10,Wt)]),(we=s==null?void 0:s.picList)!=null&&we.length?(r(!0),d(O,{key:0},oe(s.picList,(p,V)=>(r(),d("div",{key:p+V,class:K(["data-picList",!s.source.length&&V+1===s.picList.length?"picList-radius":""])},[c(f,{width:150,src:p,class:"responsive-image"},null,8,["src"])],2))),128)):X("",!0),s.source.length?(r(),d(O,{key:1},[t("div",{class:K(["source-total",o(h).includes(Q)?"":"source-total-last"])},[o(Y)==="zh"?(r(),d("span",Nt,"找到了"+u(s.source.length)+"个信息来源：",1)):(r(),d("span",Pt,"Found "+u(s.source.length)+" source of information",1)),F(c(y,{name:"down",onClick:p=>Ee(Q)},null,8,["onClick"]),[[L,!o(h).includes(Q)]]),F(c(y,{name:"up",onClick:p=>He(Q)},null,8,["onClick"]),[[L,o(h).includes(Q)]])],2),F(t("div",jt,[(r(!0),d(O,null,oe(s.source,(p,V)=>(r(),d("div",{key:V,class:"data-source"},[F(t("p",Gt,[t("span",$t,u(o(w).dataSource)+u(V+1)+":",1),p.file_id.startsWith("http")?(r(),d("a",{key:0,href:p.file_id,target:"_blank"},u(p.file_name),9,Jt)):(r(),d("span",{key:1,class:K(["file",Ae(p.file_name)?"filename-active":""]),onClick:W=>Me(p)},u(p.file_name),11,eo)),F(c(y,{name:"iconup",onClick:W=>qe(s,V)},null,8,["onClick"]),[[L,p.showDetailDataSource]]),F(c(y,{name:"icondown",onClick:W=>Ue(s,V)},null,8,["onClick"]),[[L,!p.showDetailDataSource]])],512),[[L,p.file_name]]),c(et,{name:"sourceitem"},{default:x(()=>{var W;return[F(t("div",to,[t("p",{innerHTML:(W=p.content)==null?void 0:W.replaceAll(`
`,"<br/>")},null,8,oo),t("p",so,[t("span",no,u(o(w).correlation),1),M(u(p.score),1)])],512),[[L,p.showDetailDataSource]])]}),_:2},1024)]))),128))],512),[[L,o(h).includes(Q)]])],64)):X("",!0),s.showTools?(r(),d("div",ao,[t("div",{class:"reload-box",onClick:p=>Re(s)},[c(y,{name:"reload"}),t("span",co,u(o(w).regenerate),1)],8,lo),t("div",io,[c(y,{style:ue({color:s.copied?"#4D71FF":""}),name:"copy",onClick:p=>ve(s)},null,8,["style","onClick"]),c(y,{style:ue({color:s.like?"#4D71FF":""}),name:"like",onClick:p=>o(S)(s,p)},null,8,["style","onClick"]),c(y,{style:ue({color:s.unlike?"#4D71FF":""}),name:"unlike",onClick:p=>ae(s)},null,8,["style","onClick"])])])):X("",!0)]))])}),128)),F(t("div",ro,null,512),[[L,o(C)]]),F(t("div",{ref_key:"stopBtn",ref:G,class:"stop-btn"},[c(l,{onClick:De},{icon:x(()=>[c(y,{name:"stop",class:K(o(C)?"loading":"")},null,8,["class"])]),default:x(()=>[M(u(o(w).stop),1)]),_:1})],512),[[L,o(C)]])],512)]),t("div",uo,[t("div",po,[_.chatType==="share"?(r(),$e(a,{key:0,placement:"topLeft"},{content:x(()=>[o(I)?(r(),d("p",ho,u(o(R).multiTurnConversation2),1)):(r(),d("p",_o,u(o(R).multiTurnConversation1),1))]),default:x(()=>[t("span",{class:K(["control",`control-${o(I)}`])},[c(y,{name:"chat-control",onClick:Ve})],2)]),_:1})):X("",!0),_.chatType==="share"?(r(),d("span",{key:1,class:"download",onClick:Ke},[c(y,{name:"chat-download"})])):X("",!0),c(H,{value:o(T),"onUpdate:value":n[0]||(n[0]=s=>te(T)?T.value=s:null),"max-length":"200",placeholder:o(w).problemPlaceholder,onKeyup:Je(le,["enter"])},{suffix:x(()=>[t("div",go,[c(l,{type:"primary",disabled:o(C),onClick:le},{default:x(()=>[c(y,{name:"sendplane"})]),_:1},8,["disabled"])])]),_:1},8,["value","placeholder"])])])]),!_.botInfo.kb_ids||!_.botInfo.kb_ids.length?(r(),d("div",vo,[fo,t("p",null,u(o(R).bindKbtoPreview),1)])):X("",!0)]),c(it,{content:o(ie),"confirm-loading":o(ce),onOk:ze},null,8,["content","confirm-loading"])],64)}}}),Ao=ge(mo,[["__scopeId","data-v-84174e16"]]),ko={class:"edit-detail"},wo={class:"bots-chat-page"},yo=_e({__name:"EditDetail",setup(_){const{curBot:v}=z(de());return(w,R)=>(r(),d("div",ko,[c(It),t("div",wo,[c(Ao,{"bot-info":o(v),"chat-type":"edit"},null,8,["bot-info"])])]))}}),Vo=ge(yo,[["__scopeId","data-v-27fa0036"]]);export{Vo as default};
