import{u as x}from"./useUploadFiles-CE4-W4Wr.js";import{r as T,u as E}from"./utils--czjniUZ.js";import{z as Q,x as _,r,w as y}from"./index-Bj9wLH7w.js";const{currentId:A}=Q(x()),F=_("useQuickStart",()=>{const n=r([]),f=t=>{n.value=t},I=r(!1);let h=r(n.value.length);y(()=>n.value.length,()=>{h.value=n.value.length});const a=r([]),c=t=>{a.value=t},L=t=>{var o;const s=(((o=a.value.at(-1))==null?void 0:o.historyId)||0)+1,e={historyId:s,title:t,fileToBeSendList:[]},u=[...a.value,e];return c(u),s},g=t=>{const s=a.value.filter(e=>e.historyId!==t);c(s)},p=(t,s,e)=>{const u=a.value.map(o=>(o.historyId===s&&(o.title=t,o.kbId=e),o));c(u)},v=t=>a.value.find(s=>s.historyId===t),H=(t,s)=>{a.value.forEach(async e=>{e.historyId===t&&(await T(await E.kbConfig({kb_id:l.value,new_kb_name:s})),e.title=s)})},w=(t,s)=>{const e=v(t);Array.isArray(s)?e.fileToBeSendList.push(...s):e.fileToBeSendList.push(s)},i=r([]),C=(t,s)=>{const e={historyId:t,list:s};i.value.some(o=>o.historyId===t)?i.value.forEach(o=>{o.historyId===t&&(o.list=s)}):i.value.push(e)},k=t=>i.value.find(s=>s.historyId===t),S=t=>{i.value=i.value.filter(s=>s.historyId!==t),a.value=a.value.filter(s=>s.historyId!==t),d.value=null,l.value="",n.value=[]},d=r(null),B=t=>{d.value=t},l=r("");y(()=>l.value,()=>{A.value=l.value});const b=r(""),m=r(null);return{QA_List:n,setQaList:f,showLoading:I,contextLength:h,historyList:a,addHistoryList:L,deleteHistoryList:g,updateHistoryList:p,getHistoryById:v,renameHistory:H,addFileToBeSendList:w,chatList:i,addChatList:C,getChatById:k,clearChatList:S,chatId:d,setChatId:B,kbId:l,kbIdCopy:b,deleteChatId:m}},{persist:{storage:localStorage}});export{F as u};
