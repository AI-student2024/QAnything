import{a as e,u as a,p as t}from"./useUploadFiles-DkyoZaiN.js";import{g as s,u as l}from"./index-QxdYnEqj.js";import{d as o,z as n,L as i,D as r,E as c,G as u,Z as d,$ as v,K as p,r as m,c as h,J as g,a4 as y,y as f,N as b,T as k,V as _,F as w,M as C,U as I,a2 as A,a as D,o as x,e as L,A as S,Q as q,R as j,C as O,a5 as T,O as E,H as B,B as F}from"./index-XFSJnQA8.js";import{u as Q,r as R,a as U,b as H,C as N}from"./utils-BazlbssD.js";import{u as P,a as z,b as K,C as M,c as V,D as Y,f as J,h as Z,_ as X,d as W,T as $}from"./ChatInfoPanel-BLaqnlFp.js";import{_ as G}from"./scroll-down-Dm5D91pw.js";import{u as ee,a as ae,b as te}from"./useChatSource-UNzIihme.js";import{_ as se}from"./ActionButton-Bb8A1Lwz.js";import{_ as le}from"./index-B1MhNjnP.js";import{O as oe}from"./OptionList-btd985mb.js";import"./index-C-ZzOSKu.js";import"./class-CSb3T_eq.js";import"./collapseMotion-C9RdmJHL.js";import"./slide-Cs6oHcOu.js";import"./index-DxOe7nEl.js";import"./index-BdE43Btm.js";import"./index-BKqeJmg4.js";import"./index-CNtf2ifb.js";import"./injectionKey-BS_bSTfS.js";const ne={class:"upload-box"},ie=(e=>(d("data-v-ec2d7664"),e=e(),v(),e))((()=>r("img",{class:"icon-file",src:"/qanything/assets/icon-file-Bxz0aRpP.png",alt:"图标"},null,-1))),re={class:"title"},ce={class:"desc-content"},ue={class:"desc"},de={class:"desc"},ve=p(o({__name:"UploadDom",props:{acceptList:{require:!0,type:Array,default:()=>[]}},emits:["update"],setup(e,{emit:a}){const t=s().home,l=a,o=()=>{l("update")};return(e,a)=>(n(),i("div",ne,[r("div",{class:"tips",onClick:o},[ie,r("p",re,c(u(t).startDec),1),r("div",ce,[r("p",ue,c(u(t).updesc2),1),r("p",de,c(u(t).require1),1)])])]))}}),[["__scopeId","data-v-ec2d7664"]]),pe={class:"default"},me={class:"box"},he={class:"title"},ge=(e=>(d("data-v-387b8125"),e=e(),v(),e))((()=>r("span",null," ",-1))),ye={class:"color"},fe={class:"desc"},be=p(o({__name:"Defaultpage",setup(t){const l=s().home,{setFileList:o}=e(),{setModalVisible:d}=e(),{setCurrentId:v,getList:p,setCurrentKbName:y}=a(),f=[".doc",".docx",".ppt",".pptx",".xls",".xlsx",".pdf",".md",".jpg",".jpeg",".png",".txt",".eml"],b=m(""),k=async()=>{try{const e=await Q.createKb({kb_name:l.defaultName});200==+e.code&&(b.value=e.data.kb_id,v(e.data.kb_id),y(e.kb_name),d(!0),p())}catch(e){o([]),g.error(e.msg)}};return(e,a)=>(n(),i("div",pe,[r("div",me,[r("p",he,[r("span",null,c(u(l).homeTitle1),1),ge,r("span",ye,c(u(l).homeTitle2),1)]),r("p",fe,c(u(l).defaultDec),1),h(ve,{"accept-list":f,onUpdate:k})])]))}}),[["__scopeId","data-v-387b8125"]]),ke=y("useHomeChat",(()=>{const e=m([]),a=m([]),t=e=>{a.value=e},s=m([]),l=m(null),o=m(1),n=m(1);return{QA_List:e,setQaList:a=>{e.value=a},historyList:a,addHistoryList:e=>{var s;const l=((null==(s=a.value.at(-1))?void 0:s.historyId)||0)+1,o={historyId:l,title:e},n=[...a.value,o];return t(n),l},deleteHistoryList:e=>{const s=a.value.filter((a=>a.historyId!==e));t(s)},updateHistoryList:(e,s,l)=>{const o=a.value.map((a=>(a.historyId===s&&(a.title=e,a.kbIds=l),a)));t(o)},chatList:s,addChatList:(e,a)=>{const t={historyId:e,list:a};s.value.some((a=>a.historyId===e))?s.value.forEach((t=>{t.historyId===e&&(t.list=a)})):s.value.push(t)},getChatById:e=>s.value.filter((a=>a.historyId===e))[0],clearChatList:e=>{s.value=s.value.filter((a=>a.historyId!==e)),a.value=a.value.filter((a=>a.historyId!==e))},chatId:l,setChatId:e=>{l.value=e},pageId:o,setPageId:e=>{o.value=e},qaPageId:n,setQaPageId:e=>{n.value=e}}}),{persist:{storage:localStorage}}),_e={class:"history-chat"},we={class:"history-chat-content"},Ce={class:"list"},Ie=(e=>(d("data-v-b9aad642"),e=e(),v(),e))((()=>r("div",{class:"line"},null,-1))),Ae=["onClick"],De=["onClick"],xe=p(o({__name:"HistoryChat",props:{observer:{type:Object,required:!0},observeDom:{type:Object,default:null},qaObserver:{type:Object,required:!0},qaObserveDom:{type:Object,default:null},showLoading:{type:Boolean,require:!0}},emits:["scrollBottom","setObserveDom","setQaObserverDom","clearHistory"],setup(e,{emit:t}){const l=e,{chatList:o,chatId:d,QA_List:v,qaPageId:p,pageId:m,historyList:y}=f(ke()),{deleteHistoryList:D,getChatById:x}=ke(),{setSelectList:L}=a(),S=t;async function q(e){if(!l.showLoading){d.value=e.historyId,v.value=[],p.value=1,L([...e.kbIds]),S("clearHistory");try{const e=x(d.value);null!==l.qaObserveDom&&(l.qaObserver.unobserve(l.qaObserveDom),S("setQaObserverDom",null)),e.list.forEach((e=>{var a,t,s,l,o,n,i;"user"===e.type?(i=e.question,v.value.push({question:i,type:"user"})):"ai"===e.type&&(a=e.question,t=e.itemInfo,s=e.answer,l=e.picList,o=e.qaId,n=e.source,v.value.push({answer:s,question:a,itemInfo:t,type:"ai",qaId:o,copied:!1,like:!1,unlike:!1,source:n||[],showTools:!0,picList:l}))})),S("scrollBottom"),e.list.length>=50&&await A((()=>{const e=document.getElementsByClassName("chat-li");e.length&&(l.qaObserver.observe(e[0]),S("setQaObserverDom",e[0]))}))}catch(a){g.error(a.msg||"获取问答历史失败")}}}function j(){l.showLoading||(null!==d.value?(d.value=null,v.value=[],p.value=1,m.value=1,S("clearHistory")):g.info("已切换最新对话"))}async function O(e,a){if(!l.showLoading)try{D(e.historyId),e.historyId===d.value&&j(),g.success("删除成功"),o.value.splice(a,1),await A((()=>{!function(){if(null!==l.qaObserveDom){l.qaObserver.unobserve(l.qaObserveDom),S("setQaObserverDom",null);const e=document.getElementsByClassName("chat-li");e.length&&(l.qaObserver.observe(e[0]),S("setQaObserverDom",e[0]))}}()}))}catch(t){g.error(t.msg||"删除失败")}}return(a,t)=>(n(),i("div",_e,[r("div",we,[r("div",Ce,[r("div",{class:b(["new-chat",[e.showLoading?"disabled":"",null===u(d)?"new-active":""]]),onClick:j},[h(k,{name:"new-chat"}),_(" "+c(u(s)().home.newConversation),1)],2),(n(!0),i(w,null,C(u(y),((a,t)=>(n(),i("div",{key:a.historyId,class:b(["chat-item",u(d)===a.historyId?"item-active":"",e.showLoading?"disabled":""])},[Ie,r("span",{onClick:e=>q(a)},c(a.title),9,Ae),u(d)===a.historyId?(n(),i("img",{key:0,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEgSURBVFiF7ZaxDcJADEVt0lAyQkaAKzIHI0BxkmeKCxiFAaKDDRAdJQvkQpNIEeQu9gVoyK8SXZz/ZPssA8ya9e/KYofW2nVRFMuqqh4pP5fEL0IHRJQj4tl7f7XW7hLMd734tRqgrutV94yIBw1Ea37o3rMsC2YgWALn3N0Yc0PEbQuxNcbcnHMXjXnTNPuyLE9qgBbiooEYMmfmY8wjCqCBSDEXAUggUs0BAFDyUachoxYoyVwNMATRl9YcQFiCvl7LMcUcIDIHfiV1BkIlkM6Jt7gp5p9oQnEGQldNO6ySAMbu+RSIUQDpkEmFGNsHVBMuBSLYhESUe++vUvMR8A0zD0KI9gFtZzPzsbshAPF9ICoiymPbzLfjZ836Dz0BusANDR+zFvgAAAAASUVORK5CYII=",class:"close-icon",alt:"close",onClick:e=>O(a,t)},null,8,De)):I("",!0)],2)))),128))])])]))}}),[["__scopeId","data-v-b9aad642"]]),Le=e=>(d("data-v-ed5d54b1"),e=e(),v(),e),Se={class:"container showSider"},qe={class:"my-page"},je={key:0,class:"user"},Oe=Le((()=>r("img",{class:"avatar",src:X,alt:"头像"},null,-1))),Te={class:"question-text"},Ee={key:1,class:"ai"},Be=Le((()=>r("img",{class:"avatar",src:W,alt:"头像"},null,-1))),Fe={class:"ai-content"},Qe={class:"ai-right"},Re={key:0},Ue={key:1},He={class:"source-list"},Ne={class:"control"},Pe={class:"tips"},ze=["href"],Ke=["onClick"],Me={class:"source-content"},Ve={class:"score"},Ye={class:"tips"},Je={key:1,class:"feed-back"},Ze=["onClick"],Xe={class:"reload-text"},We={class:"tools"},$e={key:0,class:"stop-btn"},Ge={class:"question-box"},ea={class:"question"},aa={class:"send-box"},ta={class:"send-action"},sa=p(o({__name:"Chat",setup(e){const t=s().common,o=new $((e=>{e&&(p.value[p.value.length-1].answer+=e||"")})),{selectList:d,knowledgeBaseList:v}=f(a()),{QA_List:p,chatId:y,pageId:X,qaPageId:W,historyList:oe}=f(ke()),{chatSettingFormActive:ne}=f(ee()),{copy:ie}=P(),{addHistoryList:re,updateHistoryList:ce,addChatList:ue,clearChatList:de}=ke(),{setChatSourceVisible:ve,setSourceType:pe,setSourceUrl:me,setTextContent:he}=ae(),{language:ge}=f(l()),ye=m(""),fe=D((()=>{const e=ne.value.context;if(0===e)return[];const a=p.value.filter((e=>"ai"===e.type));return(11===e?a:a.slice(-e)).map((e=>[e.question,e.answer]))})),be=m(!1),_e=m([]),we=m(null),Ce=m(null);let Ie;const Ae=m(null),De=m(null),Le=()=>{A((()=>{A((()=>{var e;null==(e=De.value)||e.scrollIntoView({behavior:"smooth",block:"end"})}))}))},sa=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&X.value++}))})),la=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&W.value++}))}));x((()=>{Le()})),L((()=>{we.value&&sa.unobserve(we.value),Ce.value&&la.unobserve(Ce.value)}));const oa=e=>{13===e.keyCode&&(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey?ye.value+="\n":pa(),e.preventDefault())},na=z(((e,a)=>{if(e.like=!e.like,e.unlike=!1,_czc.push(["_trackEvent","qanything","问答页面","点赞","",""]),e.like){a.target.parentNode.style.animation="shake ease-in .5s";const e=setTimeout((()=>{clearTimeout(e),a.target.parentNode.style.animation=""}),600)}}),800),ia=e=>{p.value.push({answer:"",question:e,onlySearch:ne.value.capabilities.onlySearch,type:"ai",copied:!1,like:!1,unlike:!1,source:[],showTools:!1})},ra=new N,ca=e=>{we.value=e},ua=e=>{Ce.value=e},da=(e,a,t)=>{try{ce(e,a,t)}catch(s){g.error(s.msg||"更新对话失败")}};const va=()=>{Ie&&Ie.abort("停止对话"),o.done(),be.value=!1,p.value[p.value.length-1].showTools=!0},pa=async()=>{if(!ye.value.trim().length)return;if(be.value)return void g.warn("正在聊天中...请等待结束");if(!(await Ca()))return void g.error("模型设置错误，请先检查模型配置");if(function(){if(!d.value.length)return;const e=[];d.value.forEach((a=>{v.value.some((e=>e.kb_id===a))&&e.push(a)})),d.value=e,oe.value.forEach((e=>{null!==y.value&&e.historyId===y.value&&e.kbIds.join("")!==d.value.join("")&&da(e.title,e.historyId,d.value)}))}(),!d.value.length)return g.warning(t.chooseError);g.info({content:"zh"===t.type?`已选择 ${d.value.length} 个知识库进行问答`:` ${d.value.length} knowledge base has been selected`,icon:" "});const e=ye.value;(e=>{try{if(null!==y.value)return;e.length>100&&(e=e.substring(0,100)),y.value=re(e),da(e,y.value,d.value)}catch(a){g.error(a.msg||"创建对话失败")}})(e),ye.value="",(e=>{p.value.push({question:e,type:"user"}),Le()})(e),ue(y.value,p.value),be.value=!0,Ie=new AbortController;const a={kb_ids:d.value,history:fe.value,question:e,streaming:!1===ne.value.capabilities.onlySearch,networking:ne.value.capabilities.networkSearch,product_source:"saas",rerank:ne.value.capabilities.rerank,only_need_search_results:ne.value.capabilities.onlySearch,hybrid_search:ne.value.capabilities.mixedSearch,max_token:ne.value.maxToken,api_base:ne.value.apiBase,api_key:ne.value.apiKey,model:ne.value.apiModelName,api_context_length:ne.value.apiContextLength,chunk_size:ne.value.chunkSize,top_p:ne.value.top_P,top_k:ne.value.top_K,temperature:ne.value.temperature};if(ne.value.capabilities.onlySearch){ra.addChatSetting(ne.value),ia(e);try{const e=await R(await Q.sendQuestion(a,{signal:Ie.signal}));200===e.code&&(p.value[p.value.length-1].answer=(null==e?void 0:e.source_documents.length)?t.searchCompleted:t.searchNotFound,p.value[p.value.length-1].source=null==e?void 0:e.source_documents)}catch(s){p.value[p.value.length-1].answer=s.msg||"error"}be.value=!1,p.value[p.value.length-1].showTools=!0,ue(y.value,p.value),await A((()=>{Le()}))}else J(H+"/local_doc_qa/local_doc_chat",{method:"POST",headers:{"Content-Type":"application/json",Accept:["text/event-stream","application/json"]},openWhenHidden:!0,body:JSON.stringify({user_id:U,...a}),signal:Ie.signal,onopen(a){ia(e),a.ok&&"text/event-stream"===a.headers.get("content-type")?(ra.addChatSetting(ne.value),o.start()):"application/json"===a.headers.get("content-type")&&o.add("Error 请检查模型是否配置正确")},onmessage(e){var a,t;const s=JSON.parse(e.data);if(200==(null==s?void 0:s.code)&&(null==s?void 0:s.response)&&"success"===s.msg)o.add(null==s?void 0:s.response),Le();else{delete s.time_record.time_usage.retriever_search_by_milvus,ra.addTime(s.time_record.time_usage),ra.addToken(s.time_record.token_usage),ra.addDate(Date.now())}(null==(a=null==s?void 0:s.source_documents)?void 0:a.length)&&(p.value[p.value.length-1].source=null==s?void 0:s.source_documents),(null==(t=null==s?void 0:s.show_images)?void 0:t.length)&&(null==s||s.show_images.map((e=>{o.add(e)})))},onclose(e){o.done(),Ie.abort(),be.value=!1,p.value[p.value.length-1].showTools=!0,p.value.at(-1).itemInfo=ra.getChatInfo(),ue(y.value,p.value),A((()=>{Le()}))},onerror(e){throw null==o||o.done(),null==Ie||Ie.abort(),be.value=!1,p.value[p.value.length-1].showTools=!0,g.error(e.msg||"出错了"),ue(y.value,p.value),A((()=>{Le()})),e}})},{showModal:ma}=f(K()),ha=m(!1),ga=m(""),ya=m(""),fa=()=>{be.value||(ya.value="download",ma.value=!0,ga.value=t.saveTip)},ba=()=>{be.value||(ya.value="delete",ma.value=!0,ga.value=t.clearTip)},ka=async()=>{if(ha.value=!0,"download"===ya.value)try{const e=document.getElementById("chat-ul"),a=(await Z(e,{useCORS:!0})).toDataURL("image/png"),t=document.createElement("a");t.style.display="none",t.href=a,t.setAttribute("download","chat-shot.png"),void 0===t.download&&t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(a),g.success("下载成功"),Promise.resolve()}catch(e){g.error(e.message||e.msg||"出错了")}else"delete"===ya.value&&(de(y.value),y.value=null,p.value=[]);ya.value="",ga.value="",ha.value=!1,ma.value=!1},{showSettingModal:_a}=f(K()),wa=m(),Ca=()=>wa.value.handleOk();let Ia=["pdf","docx","xlsx","txt","md","jpg","png","jpeg","csv","eml"];const Aa=e=>{if(!e)return!1;const a=e.split(".");if(a.length){const e=a.pop();return!!Ia.includes(e)}return!1},Da=e=>{Aa(e.file_name)&&async function(e){try{me(null);const a=await R(await Q.getFile({file_id:e.file_id})),t=e.file_name.split(".").pop(),s=function(e){const a=Ia.indexOf(e);return xa[a]}(t);if(pe(t),me(`data:${s};base64,${a.file_base64}`),"txt"===t||"md"===t||"csv"===t||"eml"===t){const e=atob(a.file_base64),t=decodeURIComponent(escape(e));he(t),ve(!0)}else ve(!0)}catch(a){g.error(a.msg||"获取文件失败")}}(e)};let xa=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/markdown","image/jpeg","image/png","image/jpeg","text/csv","message/rfc822","application/vnd.openxmlformats-officedocument.presentationml.presentation"];function La(){}return(e,a)=>{const s=F,l=se,o=le;return n(),i(w,null,[h(xe,{observer:u(sa),"observe-dom":u(we),"qa-observe-dom":u(Ce),"qa-observer":u(la),"show-loading":u(be),onScrollBottom:Le,onSetObserveDom:ca,onSetQaObserverDom:ua,onClearHistory:La},null,8,["observer","observe-dom","qa-observe-dom","qa-observer","show-loading"]),r("div",Se,[r("div",qe,[r("div",{id:"chat",ref_key:"chatContainer",ref:Ae,class:"chat showSider"},[r("ul",{id:"chat-ul",ref_key:"scrollDom",ref:De},[(n(!0),i(w,null,C(u(p),((e,a)=>{var s,l;return n(),i("li",{key:a},["user"===e.type?(n(),i("div",je,[Oe,r("p",Te,c(e.question),1)])):(n(),i("div",Ee,[Be,r("div",Fe,[r("div",Qe,[r("p",{class:b(["question-text",[e.source.length||(null==(s=null==e?void 0:e.picList)?void 0:s.length)?"":"change-radius",e.showTools?"":"flashing"]])},[h(te,{content:e.answer.toString()},null,8,["content"]),Object.keys((null==(l=null==e?void 0:e.itemInfo)?void 0:l.tokenInfo)||{}).length?(n(),S(M,{key:0,"chat-item-info":e.itemInfo},null,8,["chat-item-info"])):I("",!0)],2),e.source.length?(n(),i(w,{key:0},[r("div",{class:b(["source-total",u(_e).includes(a)?"":"source-total-last"])},["zh"===u(ge)?(n(),i("span",Re," 找到了"+c(e.source.length)+"个信息来源： ",1)):(n(),i("span",Ue," Found "+c(e.source.length)+" source of information ",1)),q(h(k,{name:"down",onClick:e=>(e=>{_e.value.push(e)})(a)},null,8,["onClick"]),[[j,!u(_e).includes(a)]]),q(h(k,{name:"up",onClick:e=>(e=>{_e.value=_e.value.filter((a=>a!==e))})(a)},null,8,["onClick"]),[[j,u(_e).includes(a)]])],2),q(r("div",He,[(n(!0),i(w,null,C(e.source,((a,s)=>(n(),i("div",{key:s,class:"data-source"},[q(r("p",Ne,[r("span",Pe,c(u(t).dataSource)+c(s+1)+":",1),a.file_url.startsWith("http")?(n(),i("a",{key:0,href:a.file_url,target:"_blank"},c(a.file_name),9,ze)):(n(),i("span",{key:1,class:b(["file",Aa(a.file_name)?"filename-active":""]),onClick:e=>Da(a)},c(a.file_name),11,Ke)),q(h(k,{name:"iconup",onClick:a=>((e,a)=>{e.source[a].showDetailDataSource=!1})(e,s)},null,8,["onClick"]),[[j,a.showDetailDataSource]]),q(h(k,{name:"icondown",onClick:a=>((e,a)=>{e.source[a].showDetailDataSource=!e.source[a].showDetailDataSource})(e,s)},null,8,["onClick"]),[[j,!a.showDetailDataSource]])],512),[[j,a.file_name]]),h(T,{name:"sourceitem"},{default:O((()=>[q(r("div",Me,[h(te,{content:a.content},null,8,["content"]),r("p",Ve,[r("span",Ye,c(u(t).correlation),1),_(" "+c(a.score),1)])],512),[[j,a.showDetailDataSource]])])),_:2},1024)])))),128))],512),[[j,u(_e).includes(a)]])],64)):I("",!0),e.showTools?(n(),i("div",Je,[r("div",{class:"reload-box",onClick:a=>(e=>{ye.value=e.question,pa()})(e)},[h(k,{name:"reload"}),r("span",Xe,c(u(t).regenerate),1)],8,Ze),r("div",We,[h(k,{style:E({color:e.copied?"#4D71FF":""}),name:"copy",onClick:a=>(e=>{ie(e.answer).then((()=>{e.copied=!e.copied,g.success(t.copySuccess,1);const a=setTimeout((()=>{clearTimeout(a),e.copied=!e.copied}),1e3)})).catch((()=>{g.error(t.copyFailed,1)}))})(e)},null,8,["style","onClick"]),h(k,{style:E({color:e.like?"#4D71FF":""}),name:"like",onClick:a=>u(na)(e,a)},null,8,["style","onClick"]),h(k,{style:E({color:e.unlike?"#4D71FF":""}),name:"unlike",onClick:a=>(e=>{e.unlike=!e.unlike,e.like=!1,_czc.push(["_trackEvent","qanything","问答页面","点踩","",""])})(e)},null,8,["style","onClick"])])])):I("",!0)])])]))])})),128))],512)],512),u(be)?(n(),i("div",$e,[h(s,{onClick:va},{icon:O((()=>[h(k,{name:"stop",class:b(u(be)?"loading":"")},null,8,["class"])])),default:O((()=>[_(" "+c(u(t).stop),1)])),_:1})])):I("",!0),r("div",Ge,[r("div",ea,[r("div",aa,[h(l,{value:u(ye),"onUpdate:value":a[0]||(a[0]=e=>B(ye)?ye.value=e:null),class:"send-textarea","max-length":"200",bordered:!1,placeholder:u(t).problemPlaceholder,"auto-size":{minRows:1,maxRows:8},onKeydown:oa},null,8,["value","placeholder"]),r("div",ta,[h(o,{placement:"topLeft"},{content:O((()=>[_(c(u(t).chatToPic),1)])),default:O((()=>[r("span",{class:b(["download",u(be)?"isPreventClick":""]),onClick:fa},[h(k,{name:"chat-download"})],2)])),_:1}),h(o,null,{content:O((()=>[_(c(u(t).clearChat),1)])),default:O((()=>[r("span",{class:b(["delete",u(be)?"isPreventClick":""]),onClick:ba},[h(k,{name:"chat-delete"})],2)])),_:1}),h(o,null,{content:O((()=>[_(c(u(t).modelSettingTitle),1)])),default:O((()=>[r("span",{class:"setting",onClick:a[1]||(a[1]=e=>{return a=!0,void(_a.value=a);var a})},[h(k,{name:"chat-setting"})])])),_:1}),h(s,{type:"primary",disabled:u(be),shape:"circle",onClick:pa},{default:O((()=>[h(k,{name:"sendplane"})])),_:1},8,["disabled"])])])])])]),r("div",{class:"scroll-btn-div"},[r("img",{class:"avatar",src:G,alt:"滑到底部",onClick:Le})])]),h(V,{ref_key:"chatSettingForDialogRef",ref:wa},null,512),h(Y,{content:u(ga),"confirm-loading":u(ha),onOk:ka},null,8,["content","confirm-loading"])],64)}}}),[["__scopeId","data-v-ed5d54b1"]]),la={class:"page"},oa={class:"container"},na={key:0,class:"initing"},ia=p(o({__name:"Home",setup(e){const{showDefault:s}=f(a()),{setDefault:l,getList:o}=a(),c=e=>{l(e),o()};return x((()=>{o()})),(e,a)=>(n(),i("div",la,[r("div",oa,[u(s)===u(t).initing?(n(),i("div",na)):I("",!0),u(s)===u(t).default?(n(),S(be,{key:1,onChange:c})):u(s)===u(t).normal?(n(),S(sa,{key:2})):u(s)===u(t).optionlist?(n(),S(oe,{key:3})):I("",!0)])]))}}),[["__scopeId","data-v-9dc9deec"]]);export{ia as default};
